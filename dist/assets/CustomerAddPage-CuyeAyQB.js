import{_ as h,f as g,w as o,r,o as b,a as t,d,b as x}from"./index-D1p31vXJ.js";const V={name:"CustomerAddPage",data(){return{form:{name:"",phone:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入电话",trigger:"blur"}]}}},methods:{submit(){this.$refs.formRef.validate(s=>{s&&fetch("http://localhost:8080/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}).then(e=>{if(!e.ok)throw new Error("提交失败");return e.json()}).then(()=>{this.$message.success("添加成功"),this.$router.push("/customers")}).catch(()=>this.$message.error("添加失败"))})}}};function k(s,e,w,y,n,p){const m=r("el-input"),a=r("el-form-item"),u=r("el-button"),f=r("el-form"),i=r("el-card"),_=r("el-main"),c=r("el-container");return b(),g(c,{style:{padding:"24px",background:"#fafafa","min-height":"100vh"}},{default:o(()=>[t(_,null,{default:o(()=>[t(i,{shadow:"hover",style:{"max-width":"600px",margin:"auto"}},{header:o(()=>e[3]||(e[3]=[x("span",{style:{"font-size":"18px","font-weight":"600"}},"新增客户",-1)])),default:o(()=>[t(f,{model:n.form,rules:n.rules,ref:"formRef","label-width":"100px"},{default:o(()=>[t(a,{label:"姓名",prop:"name"},{default:o(()=>[t(m,{modelValue:n.form.name,"onUpdate:modelValue":e[0]||(e[0]=l=>n.form.name=l),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),t(a,{label:"电话",prop:"phone"},{default:o(()=>[t(m,{modelValue:n.form.phone,"onUpdate:modelValue":e[1]||(e[1]=l=>n.form.phone=l),placeholder:"请输入电话"},null,8,["modelValue"])]),_:1}),t(a,null,{default:o(()=>[t(u,{type:"primary",onClick:p.submit},{default:o(()=>e[4]||(e[4]=[d("提交")])),_:1,__:[4]},8,["onClick"]),t(u,{onClick:e[2]||(e[2]=l=>s.$router.back())},{default:o(()=>e[5]||(e[5]=[d("取消")])),_:1,__:[5]})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})}const v=h(V,[["render",k]]);export{v as default};
